<?php
 /**
 * 动态
 * 
 * @package custom
 */
 ?>
 <?php if (!defined('__TYPECHO_ROOT_DIR__')) exit; ?>
 <?php $this->need('header.php'); ?>
 <div class="headers animated fadeInDown">
        <div class="site_title_container">
          <div class="site_title">
            <p class="sub_title"><?php $this->options->word();?></p>
            </div>
            <div class="my_socials">
            <a href="<?php $this->options->github();?>" target="_blank">
            <svg t="1607347155449" class="icon" viewBox="0 0 1049 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3805" width="200" height="200"><path d="M524.979332 0C234.676191 0 0 234.676191 0 524.979332c0 232.068678 150.366597 428.501342 358.967656 498.035028 26.075132 5.215026 35.636014-11.299224 35.636014-25.205961 0-12.168395-0.869171-53.888607-0.869171-97.347161-146.020741 31.290159-176.441729-62.580318-176.441729-62.580318-23.467619-60.841976-58.234462-76.487055-58.234463-76.487055-47.804409-32.15933 3.476684-32.15933 3.476685-32.15933 53.019436 3.476684 80.83291 53.888607 80.83291 53.888607 46.935238 79.963739 122.553122 57.365291 152.97411 43.458554 4.345855-33.897672 18.252593-57.365291 33.028501-70.402857-116.468925-12.168395-239.022047-57.365291-239.022047-259.012982 0-57.365291 20.860106-104.300529 53.888607-140.805715-5.215026-13.037566-23.467619-66.926173 5.215027-139.067372 0 0 44.327725-13.906737 144.282399 53.888607 41.720212-11.299224 86.917108-17.383422 131.244833-17.383422s89.524621 6.084198 131.244833 17.383422C756.178839 203.386032 800.506564 217.29277 800.506564 217.29277c28.682646 72.1412 10.430053 126.029806 5.215026 139.067372 33.897672 36.505185 53.888607 83.440424 53.888607 140.805715 0 201.64769-122.553122 245.975415-239.891218 259.012982 19.121764 16.514251 35.636014 47.804409 35.636015 97.347161 0 70.402857-0.869171 126.898978-0.869172 144.282399 0 13.906737 9.560882 30.420988 35.636015 25.205961 208.601059-69.533686 358.967656-265.96635 358.967655-498.035028C1049.958663 234.676191 814.413301 0 524.979332 0z" fill="#191717" p-id="3806"></path><path d="M199.040177 753.571326c-0.869171 2.607513-5.215026 3.476684-8.691711 1.738342s-6.084198-5.215026-4.345855-7.82254c0.869171-2.607513 5.215026-3.476684 8.691711-1.738342s5.215026 5.215026 4.345855 7.82254z m-6.953369-4.345856M219.900283 777.038945c-2.607513 2.607513-7.82254 0.869171-10.430053-2.607514-3.476684-3.476684-4.345855-8.691711-1.738342-11.299224 2.607513-2.607513 6.953369-0.869171 10.430053 2.607514 3.476684 4.345855 4.345855 9.560882 1.738342 11.299224z m-5.215026-5.215027M240.760389 807.459932c-3.476684 2.607513-8.691711 0-11.299224-4.345855-3.476684-4.345855-3.476684-10.430053 0-12.168395 3.476684-2.607513 8.691711 0 11.299224 4.345855 3.476684 4.345855 3.476684 9.560882 0 12.168395z m0 0M269.443034 837.011749c-2.607513 3.476684-8.691711 2.607513-13.906737-1.738342-4.345855-4.345855-6.084198-10.430053-2.607513-13.037566 2.607513-3.476684 8.691711-2.607513 13.906737 1.738342 4.345855 3.476684 5.215026 9.560882 2.607513 13.037566z m0 0M308.555733 853.526c-0.869171 4.345855-6.953369 6.084198-13.037566 4.345855-6.084198-1.738342-9.560882-6.953369-8.691711-10.430053 0.869171-4.345855 6.953369-6.084198 13.037566-4.345855 6.084198 1.738342 9.560882 6.084198 8.691711 10.430053z m0 0M351.145116 857.002684c0 4.345855-5.215026 7.82254-11.299224 7.82254-6.084198 0-11.299224-3.476684-11.299224-7.82254s5.215026-7.82254 11.299224-7.82254c6.084198 0 11.299224 3.476684 11.299224 7.82254z m0 0M391.126986 850.049315c0.869171 4.345855-3.476684 8.691711-9.560882 9.560882-6.084198 0.869171-11.299224-1.738342-12.168395-6.084197-0.869171-4.345855 3.476684-8.691711 9.560881-9.560882 6.084198-0.869171 11.299224 1.738342 12.168396 6.084197z m0 0" fill="#191717" p-id="3807"></path></svg>
            </a>
            <a href="<?php $this->options->weibo();?>" target="_blank">
            <svg t="1607347254082" class="icon" viewBox="0 0 1026 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4669" width="200" height="200"><path d="M1012.49024 451.55328v0.15872c-6.69696 20.6592-28.86144 31.98976-49.44896 25.28768a39.35232 39.35232 0 0 1-25.28768-49.58208l-0.06656-0.03072c20.53632-63.60064 7.51616-136.15616-40.31488-189.3632-47.89248-53.21216-118.5024-73.55392-183.7312-59.65824-21.2224 4.53632-42.13248-9.04704-46.63808-30.30016-4.5056-21.25312 9.02144-42.19392 30.23872-46.73024 91.70944-19.56352 191.11424 8.98048 258.46784 83.88096 67.35872 74.83904 85.51424 176.84992 56.7808 266.33728z" fill="#d81e06" p-id="4670"></path><path d="M740.4288 304.34816v-0.03072c-18.21696 3.97312-36.17792-7.7312-40.05888-26.0096-3.94752-18.30912 7.76192-36.37248 25.97888-40.25344 44.69248-9.5488 93.14304 4.32128 125.88544 40.7808 32.86528 36.49536 41.63072 86.1696 27.60704 129.77152a33.83296 33.83296 0 0 1-42.56256 21.84704c-17.78176-5.76-27.48416-24.91392-21.72416-42.69056h-0.06144c6.8864-21.34528 2.56512-45.63456-13.46048-63.47264-16.0256-17.8176-39.75168-24.54528-61.60384-19.9424zM770.47808 496.53248c-14.45888-4.352-24.35072-7.32672-16.77312-26.35264 16.3328-41.31328 18.02752-76.96384 0.31744-102.38464-33.31072-47.73376-124.45184-45.1328-228.8384-1.28 0-0.06144-32.79872 14.36672-24.41216-11.70432 16.05632-51.77344 13.6448-95.18592-11.36128-120.192-56.65792-56.87808-207.30368 2.11968-336.47616 131.64032C56.18688 463.31904 0 566.13888 0 655.09888c0 170.08128 217.50272 273.49504 430.27968 273.49504 278.91712 0 464.52736-162.50368 464.52736-291.58912 0-77.93664-65.54624-122.19392-124.32896-140.47232z m-339.6352 371.08736c-169.77408 16.83968-316.34944-60.15488-327.36768-171.96032-11.04896-111.73888 117.71904-216.03328 287.488-232.87296 169.8048-16.83968 316.35456 60.16 327.36768 171.904 11.01824 111.86688-117.6832 216.0896-287.488 232.92928z" fill="#d81e06" p-id="4671"></path><path d="M447.80544 548.85888c-80.78336-21.08928-172.11904 19.28704-207.2064 90.6496-35.74272 72.86272-1.18784 153.68192 80.44032 180.10112 84.57728 27.35616 184.23296-14.52544 218.88-93.14816 34.18112-76.81024-8.47872-155.93984-92.11392-177.60256z m-61.68576 185.9328c-16.43008 26.2912-51.584 37.80608-78.06464 25.66144-26.10688-11.88864-33.83296-42.43968-17.40288-68.0448 16.21504-25.53856 50.20672-36.86912 76.49792-25.856 26.60352 11.392 35.08736 41.68704 18.9696 68.23936z" fill="#2c2c2c" p-id="4672"></path></svg>
            </a>
            <a href="<?php $this->options->qq();?>" target="_blank">
            <svg t="1607347312394" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6419" width="200" height="200"><path d="M505.731879 947.2c-79.313455 0-152.141576-24.762182-198.997334-61.750303-23.800242 6.640485-54.272 17.314909-73.479757 30.564848-16.446061 11.29503-14.398061 22.838303-11.419152 27.523879 13.032727 20.48 223.20097 13.032727 283.896243 6.671515v-3.009939z" fill="#FAAD08" p-id="6420"></path><path d="M491.426909 947.2c79.313455 0 152.110545-24.762182 198.997333-61.750303 23.800242 6.640485 54.24097 17.314909 73.479758 30.564848 16.446061 11.29503 14.398061 22.838303 11.419152 27.523879-13.032727 20.48-223.20097 13.032727-283.896243 6.671515v-3.009939z" fill="#FAAD08" p-id="6421"></path><path d="M491.892364 469.550545c130.544485-0.868848 235.178667-25.537939 270.646303-34.971151 8.440242-2.265212 12.970667-6.299152 12.970666-6.299152 0-1.179152 0.527515-20.728242 0.527515-30.844121 0-170.046061-82.292364-340.867879-284.609939-340.867879-202.317576 0-284.609939 170.852848-284.609939 340.867879 0 10.115879 0.496485 29.66497 0.527515 30.844121 0 0 3.692606 3.785697 10.426182 5.585455 32.73697 8.905697 139.326061 34.78497 273.159757 35.684848h0.96194zM851.223273 613.251879a1451.969939 1451.969939 0 0 0-30.099394-84.805818s-6.392242-0.775758-9.619394 0.155151c-99.638303 28.889212-220.408242 47.321212-312.475152 46.204121h-0.930909c-91.539394 1.086061-211.502545-17.128727-310.799515-45.738666-3.816727-1.086061-11.29503-0.620606-11.29503-0.620606a1450.852848 1450.852848 0 0 0-30.099394 84.805818c-38.322424 123.097212-25.910303 174.017939-16.446061 175.16606 20.262788 2.451394 78.941091-92.656485 78.941091-92.656484 0 96.628364 87.381333 245.015273 287.526788 246.380606h5.275152c200.145455-1.365333 287.526788-149.752242 287.526787-246.380606 0 0 58.647273 95.107879 78.972122 92.656484 9.433212-1.148121 21.845333-52.068848-16.446061-175.16606" fill="#000000" p-id="6422"></path><path d="M429.800727 313.592242c-27.61697 1.241212-51.2-29.789091-52.658424-69.228606-1.520485-39.470545 19.642182-72.424727 47.259152-73.665939 27.585939-1.241212 51.16897 29.789091 52.658424 69.228606 1.520485 39.470545-19.642182 72.424727-47.259152 73.665939m204.489697-69.228606c-1.458424 39.408485-25.041455 70.438788-52.658424 69.197576-27.61697-1.210182-48.748606-34.164364-47.228121-73.634909 1.489455-39.439515 25.072485-70.438788 52.658424-69.228606 27.61697 1.241212 48.748606 34.195394 47.259152 73.665939" fill="#FFFFFF" p-id="6423"></path><path d="M676.770909 364.761212c-7.261091-17.43903-80.213333-36.83297-170.573576-36.83297h-0.930909c-90.360242 0-163.312485 19.393939-170.573576 36.83297a6.11297 6.11297 0 0 0 0.465455 5.833697c6.11297 9.619394 87.133091 57.406061 170.077091 57.406061h0.961939c82.97503 0 163.995152-47.755636 170.077091-57.406061a6.299152 6.299152 0 0 0 0.465455-5.833697" fill="#FAAD08" p-id="6424"></path><path d="M462.723879 253.672727c1.241212 15.732364-7.323152 29.696-19.083637 31.216485-11.791515 1.551515-22.341818-9.960727-23.58303-25.693091-1.241212-15.732364 7.323152-29.696 19.052606-31.216485 11.791515-1.551515 22.372848 9.991758 23.58303 25.693091m72.362667 7.850667c2.482424-4.06497 19.611152-25.475879 55.016727-17.687273 9.309091 2.048 13.622303 5.057939 14.522182 6.237091 1.334303 1.768727 1.706667 4.251152 0.341334 7.602424-2.699636 6.671515-8.254061 6.485333-11.326061 5.182061-1.985939-0.837818-26.686061-15.732364-49.369212 6.485333-1.551515 1.551515-4.344242 2.048-7.012849 0.248243-2.668606-1.830788-3.754667-5.492364-2.172121-8.067879" fill="#000000" p-id="6425"></path><path d="M499.029333 578.342788h-0.930909c-62.929455 0.744727-139.201939-7.447273-213.05406-21.690182-6.330182 35.902061-10.146909 80.989091-6.857697 134.764606 8.285091 135.943758 90.670545 221.401212 217.832727 222.642424h5.15103c127.131152-1.241212 209.516606-86.698667 217.801697-222.642424 3.258182-53.775515-0.558545-98.893576-6.888727-134.764606-73.852121 14.273939-150.124606 22.434909-213.054061 21.721212" fill="#FFFFFF" p-id="6426"></path><path d="M319.891394 570.957576v136.005818s64.232727 12.567273 128.651636 3.878788v-125.486546a1220.049455 1220.049455 0 0 1-128.651636-14.39806" fill="#EB1C26" p-id="6427"></path><path d="M779.791515 428.00097s-120.676848 39.936-280.731151 41.084121h-0.930909c-159.806061-1.117091-280.389818-40.96-280.793213-41.084121l-40.432484 105.813333c101.127758 31.961212 226.428121 52.565333 321.194666 51.386182h0.930909c94.766545 1.210182 220.097939-19.42497 321.194667-51.386182l-40.401455-105.813333z" fill="#EB1C26" p-id="6428"></path></svg>
            </a>
            <a href="<?php $this->options->email();?>" target="_blank">
            <svg t="1607347636694" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="41476" width="200" height="200"><path d="M735.872 968.96H241.28c-112.256 0-203.264-91.008-203.264-203.264V271.104c0-112.256 91.008-203.264 203.264-203.264h494.592c112.256 0 203.264 91.008 203.264 203.264v494.592c0 112.256-91.008 203.264-203.264 203.264z" fill="#00A9FA" p-id="41477"></path><path d="M538.112 560.768L768 330.88c-5.504-3.328-11.776-4.736-18.304-4.736H227.84c-5.76 0-11.52 1.28-16.64 3.712l230.912 230.912c26.368 26.368 69.376 26.368 96 0zM192.384 346.752c-3.584 6.016-5.504 12.8-5.504 20.096v302.976c0 8.32 2.56 15.872 6.784 22.144l172.8-171.52-174.08-173.696z" fill="#FFFFFF" p-id="41478"></path><path d="M555.648 578.432c-17.408 17.664-40.704 27.392-65.664 27.392-24.832 0-48.256-9.856-65.92-27.392l-39.936-39.936-170.88 169.088c4.48 2.048 9.344 3.072 14.592 3.072h521.856c7.04 0 13.568-1.792 19.328-5.248L597.888 536.192l-42.24 42.24z m230.144-229.888L615.808 518.272l170.496 168.96c2.56-5.248 3.968-11.008 3.968-17.408V366.848c0-6.528-1.408-12.8-4.48-18.304z" fill="#FFFFFF" p-id="41479"></path></svg>
            </a>
        </div>
        <div class="description">
        <div class="with_font">
        <a href="<?php $this->options->siteUrl(); ?>">
        <img class="custom-header" src="<?php $this->options->toux();?>" alt=""></a>
</div>
</div>
</div>
</div>
<div class="autopagerize_page_element">
  <div class="content">
    <div class="post_page">
      <div class="post animated fadeInDown">
      <div class="post_content markdownw">
<?php
function threadedComments($comments, $options) {
    $commentClass = '';
    if ($comments->authorId) {
        if ($comments->authorId == $comments->ownerId) {
            $commentClass .= ' comment-by-author';
        } else {
            $commentClass .= ' comment-by-user';
        }
    }

    $commentLevelClass = $comments->levels > 0 ? ' comment-child' : ' comment-parent';
?>

<li id="li-<?php $comments->theId(); ?>" class="comment-bodyw<?php
if ($comments->levels > 0) {
    echo ' comment-child';
    $comments->levelsAlt(' comment-level-odd', ' comment-level-even');
} else {
    echo ' comment-parent';
}
$comments->alt(' comment-odd', ' comment-even');
echo $commentClass;
?>">

<div id="<?php $comments->theId(); ?>">
        <div class="comment-innerw">
            <?php $email=$comments->mail; $imgUrl = getGravatar($email);echo '<img class="avatarw" src="'.$imgUrl.'">'; ?>
            <div class="new-commentw">
                <span class="comment-meta-timew"><?php $comments->date('Y-m-d H:i'); ?></span>
            </div>
            <div class="comment-contentw">
              <?php
                $pattern = '/\<img.*?src\=\"(.*?)\"[^>]*>/i';
		        $replacement = '<a href="$1" data-fancybox="gallery" /><img src="$1" alt="'.$content->title.'" title="点击放大图片"></a>';
		        $content = preg_replace($pattern, $replacement, $content->content);
                $cos = preg_replace('#\@\((.*?)\)#','<img src="https://cdn.jsdelivr.net/gh/youranreus/R@v1.0.3/G/IMG/bq/$1.png" class="bq">',$comments->content);
                echo $cos;
              ?>
            </div>
        </div>
    </li>

<?php if ($comments->children) { ?>
    <div class="comment-children">
        <?php $comments->threadedComments($options); ?>
    </div>
<?php } ?>
</li>
<?php } ?>


<div id="comments">
    <?php $this->comments()->to($comments); ?>
    <div class="comments-header" id="<?php $this->respondId(); ?>" >
        <?php if($this->allow('comment')): ?>
        <h3 id="response" class="widget-title text-left comment-title"><span class="nice-b-line"><?php $this->commentsNum(_t('发表动态'), _t('已记录 1 条动态'), _t(' %d 条动态')); ?></span></h3>
          <form method="post" action="<?php $this->commentUrl() ?>" id="comment-form">
              <?php if($this->user->hasLogin()): ?>
              <p>
                  <input name="_" type="hidden" id="comment_" value="<?php echo Helper::security()->getToken(str_replace(array('?_pjax=%23pjax-container', '&_pjax=%23pjax-container'), '', Typecho_Request::getInstance()->getRequestUrl()));?>"/>
                  <textarea rows="5" name="text" id="textarea" placeholder="发表您的新鲜事儿..." style="resize:none;"><?php $this->remember('text'); ?></textarea>
              </p>
              <div class="clear">
                <div class="OwO-logo" onclick="OwO_show()">
                  <span>
                  <svg t="1607603517804" class="icon" viewBox="0 0 1044 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2167" width="200" height="200"><path d="M515.00469688 992c-129.0309375 0-250.3471875-49.92-341.56500001-140.5153125C82.20407188 760.7815625 31.98219687 640.2490625 32.00000937 512c0-128.23125 50.2575-248.7825 141.5109375-339.4490625C264.72969687 81.92 386.04407188 32 515.09375937 32c129.084375 0 250.381875 49.92 341.63437501 140.5509375 188.3559375 187.2 188.338125 491.7159375 0 678.84375C765.45875938 942.0453125 644.09000937 992 515.00563438 992z m0.0890625-897.440625c-112.2496875 0-217.725 43.396875-297.084375 122.2228125C138.64813438 295.59125 94.95032188 400.461875 94.95032188 512c-0.01875 111.5559375 43.6621875 216.40875 122.986875 295.2534375 79.3415625 78.79125 184.8534375 122.240625 297.065625 122.240625 112.2675 0 217.831875-43.485 297.21-122.3296875 163.7859375-162.7378125 163.7859375-427.5909375 0-590.3821875-79.3603125-78.826875-184.87125-122.221875-297.12-122.221875zM343.41313437 643.0053125s56.604375 89.9025 171.57375 89.9025c114.9684375 0 190.3640625-89.9025 190.36406251-89.9025s42.7378125-0.1425 42.72 44.941875c0 0-74.0971875 104.889375-233.0840625 104.889375-158.986875 0-210.7378125-104.889375-210.7378125-104.889375s-1.5646875-44.941875 39.16406249-44.941875z m31.20000001-285.350625c-32.56875 0-59.1646875 26.32875-59.1646875 58.790625 0 32.4271875 26.578125 58.7559375 59.165625 58.7559375 32.728125 0 59.16375-26.32875 59.16375-58.7559375 0-32.461875-26.435625-58.790625-59.1646875-58.790625z m303.129375 0c-32.6221875 0-59.1290625 26.32875-59.1290625 58.790625 0 32.4271875 26.506875 58.7559375 59.128125 58.7559375 32.694375 0 59.165625-26.32875 59.165625-58.7559375 0-32.461875-26.47125-58.790625-59.165625-58.790625z" p-id="2168"></path></svg>&nbsp;表情</span>
                </div>
                <button type="submit" class="submit"><?php _e('发表'); ?></button>
              </div>
              <div id="OwO-container"><?php  $this->need('owo.php'); ?></div>
          </form>
          <?php endif; ?>
        <?php endif; ?>
	  </div>
    <?php if ($comments->have()): ?>
        <?php $comments->listComments(); ?>
        <?php $comments->pageNav('<svg t="1607661285211" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8430" width="200" height="200"><path d="M889.1914 955.2978c0 5.4016-2.8621 10.6404-7.9217 13.44-5.0616 2.7996-11.0193 2.4453-15.5955-0.426L191.0886 545.4162c-4.3295-2.7126-7.1997-7.5305-7.1997-13.014s2.8733-10.3014 7.1987-13.014L865.6732 96.4915c4.5773-2.8703 10.5339-3.2246 15.5955-0.426 5.0596 2.8006 7.9217 8.0384 7.9217 13.44V955.2977920000001L889.1914 955.2978z" p-id="8431"></path></svg>', '<svg t="1607661295319" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8556" width="200" height="200"><path d="M134.8086 68.7022c0-5.4016 2.8621-10.6404 7.9217-13.44 5.0616-2.7996 11.0193-2.4453 15.59549999 0.426L832.9114 478.5838c4.32949999 2.7126 7.1997 7.5305 7.1997 13.014s-2.8733 10.3014-7.1987 13.014L158.32680001 927.5085c-4.5773 2.87029999-10.5339 3.2246-15.59550001 0.426-5.0596-2.8006-7.9217-8.0384-7.9217-13.44L134.8096 68.702208 134.8086 68.7022z" p-id="8557"></path></svg>'); ?>
    <?php endif; ?>
</div>


</div>
<div class="post_footer"> </div>
</div>
</div>
</div>
<?php $this->need('footer.php'); ?>
